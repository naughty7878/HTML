<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Template • TodoMVC</title>
		<link rel="stylesheet" href="node_modules/todomvc-common/base.css">
		<link rel="stylesheet" href="node_modules/todomvc-app-css/index.css">
		<!-- CSS overrides - remove if you don't need it -->
		<link rel="stylesheet" href="css/app.css">
	</head>
	<body>
		<section class="todoapp" id="todoapp">
			<header class="header">
				<h1>todos</h1>
				<!--
					@keydown="addTodo" 需要自己判断keyCode
					使用vuejs 中的键值修饰符 来处理
					@keydown.enter="addTodo"
				-->
				<input 
					class="new-todo" 
					placeholder="What needs to be done?" 
					v-focus
					autofocus
					@keydown.enter="addTodo" >
			</header>

			<!-- template 特有标签，只能vue识别，渲染结果中不会包含template -->
			<template v-if="todos.length">
				<!-- This section should be hidden by default and shown when there are todos -->
				<section  class="main">
					<input 
						id="toggle-all" 
						class="toggle-all" 
						type="checkbox"
						v-model="toggleStat"
						@click="toggleAll">
					<label for="toggle-all">Mark all as complete</label>
					<ul class="todo-list">
						<!-- These are here just to show the structure of the list items -->
						<!-- List items should get the class `editing` when editing and `completed` when marked as completed -->
						<!--
							1、未完成状态：不需要样式
							2、完成状态：completed
							3、编辑状态：editing

							v-bind:class="{类名: 布尔值}"
							当布尔值为 true 的时候， 则作用这个类名
							当布尔值为 false 的时候，则取出这个类名
						-->
						<!--
						<li class="completed">
							<div class="view">
								<input class="toggle" type="checkbox" checked>
								<label>Taste JavaScript</label>
								<button class="destroy"></button>
							</div>
							<input class="edit" value="Create a TodoMVC template">
						</li>
						-->
						<li 
							v-bind:class="{completed: item.completed, editing: item === currentEditing }"
							v-for="(item, index) of filterTodos" >
							<div class="view">
								<input 
									class="toggle" 
									type="checkbox" 
									v-model="item.completed"
									@click="linkToggleAll(item, $event)">
								<label 
									@dblclick="currentEditing = item" 
									v-editing-focus >{{ item.title }}</label>
								<button 
									class="destroy" 
									@click="removeTodo(index, $event)"></button>
							</div>
							<input class="edit" 
								:value="item.title"
								@blur="saveEdit(item, index, $event)" 
								@keyup.enter="saveEdit(item, index, $event)"
								@keyup.esc="currentEditing = null" >
						</li>
					</ul>
				</section>
				<!-- This footer should hidden by default and shown when there are todos -->
				<footer  class="footer">
					<!-- This should be `0 items left` by default -->
					<!--
						在模板绑定中也可以调用函数，函数的返回值将被渲染到这里
						这里也是响应式的，会根据数据变化返回不同结果

						计算属性和方法
						都可以达到同样的效果
						- 方法，一旦方法所在的视图发生百变化，则方法一定会重新执行
						- 计算属性依赖于内部data中的数据，如果数据没变，则计算属性不会从新执行。
					-->
					<span class="todo-count"><strong>{{ leftCount }}-{{ getLeftCount() }}</strong> item left</span>
					<!-- Remove this if you don't implement routing -->
					<ul class="filters">
						<li>
							<a :class="{selected: filterStat === 'all' }" href="#/">All</a>
						</li>
						<li>
							<a :class="{selected: filterStat === 'active' }" href="#/active">Active</a>
						</li>
						<li>
							<a :class="{selected: filterStat === 'completed' }" href="#/completed">Completed</a>
						</li>
					</ul>
					<!-- Hidden if no completed items are left ↓ -->
					<button class="clear-completed" @click="removeAllDone" >Clear completed</button>
				</footer>

			</template>
			

		</section>
		<footer class="info">
			<p>Double-click to edit a todo</p>
			<!-- Remove the below line ↓ -->
			<p>Template by <a href="http://sindresorhus.com">Sindre Sorhus</a></p>
			<!-- Change this out with your name and url ↓ -->
			<p>Created by <a href="http://todomvc.com">you</a></p>
			<p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
		</footer>
		<!-- Scripts here. Don't remove ↓ -->
		<script src="node_modules/todomvc-common/base.js"></script>
		<script src="node_modules/vue/dist/vue.js"></script>
		<script src="js/app.js"></script>
	</body>
</html>
